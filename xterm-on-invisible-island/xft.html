<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Manpage converted by man2html - see https://invisible-island.net/scripts/readme.html#others_scripts">
<title>Xft(3)</title>
<link rel="SHORTCUT ICON" href="/img/icons/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/css/man2html.css" type="text/css">
<style type="text/css">
@import "/css/simplenav15.css" all;
</style>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<hr>
<p><a href="/">https://invisible-island.net/</a><a href="/xterm/">xterm/</a><a href="/xterm/xft/">xft/</a></p>
<hr>
<h1 class="no-header">Xft(3)</h1>
<pre>

</pre>
<h2><a name="h2-NAME" id="h2-NAME">NAME</a></h2>
<pre>
       Xft - X FreeType interface library


</pre>
<h2><a name="h2-DESCRIPTION" id="h2-DESCRIPTION">DESCRIPTION</a></h2>
<pre>
       <b>Xft</b> is a simple library which draws text and graphics:

       <b>o</b>   using information provided by the Fontconfig library,

       <b>o</b>   <b>Xft</b> converts font glyphs using the FreeType rasterizer, and

       <b>o</b>   displays the converted font data using the X Rendering Extension.

       This manual page barely scratches the surface of this library.


</pre>
<h2><a name="h2-HEADER-FILE" id="h2-HEADER-FILE">HEADER FILE</a></h2>
<pre>
       <b>#include</b> <b>&lt;X11/Xft/Xft.h&gt;</b>


</pre>
<h2><a name="h2-CONSTANTS" id="h2-CONSTANTS">CONSTANTS</a></h2>
<pre>
       <b>XFT_MAJOR</b>
              is the major version number of <b>Xft</b>.

       <b>XFT_MINOR</b>
              is the minor version number of <b>Xft</b>.

       <b>XFT_REVISION</b>
              is the revision number of <b>Xft</b>.

       <b>XFT_VERSION</b>
              is  <b>XFT_MAJOR</b>  times  10000 (ten thousand), plus <b>XFT_MINOR</b> times
              100, plus <b>XFT_REVISION</b>.

       <b>XftVersion</b>
              is an alias for <b>XFT_VERSION</b>.

       The following example illustrates how <b>Xft</b>'s version constants might  be
       used:
             #if (XFT_VERSION &gt;= 20107)
             (void) puts("Version 2.1.7 or later of the Xft library is in"
                         " use.");
             #else
             (void) printf("Insufficient version of Xft (%d.%d.%d) installed;
                           " need at least version 2.1.7.\n", XFT_MAJOR,
                           XFT_MINOR,
                           XFT_REVISION);
             #endif


</pre>
<h2><a name="h2-DATA-TYPES" id="h2-DATA-TYPES">DATA TYPES</a></h2>
<pre>
       Xft  datatypes  follow  a  naming  convention, prefixing all names with
       "Xft"


</pre>
<h3><a name="h3-From-Xlib___" id="h3-From-Xlib___">From Xlib...</a></h3>
<pre>
       Xlib datatypes do not follow a naming convention.  They are  documented
       in <i><a href="https://www.x.org/releases/current/doc/libX11/libX11/libX11.html">Xlib &ndash; C Language Interface</a></i>.

       <b>Xft</b>  uses  these  names: Bool, Colormap, Display, Drawable, Pixmap, Re-
       gion, Visual, and XRectangle.

       Some datatypes are especially relevant to <b>Xft</b>:

       <b>Drawable</b>
            Declared in <i>&lt;X11/X.h&gt;</i>, this is an X resource ID,  e.g.,  a  window
            associated  with  a display.  Both windows and pixmaps can be used
            as sources and destinations in graphics operations.  These windows
            and  pixmaps are collectively known as drawables.  However, an <b>In-</b>
            <b>putOnly</b> window cannot be used as a  source  or  destination  in  a
            graphics operation.

       <b>Region</b>
            Declared  in <i>&lt;X11/Xutil.h&gt;</i> and <i>&lt;X11/Xregion.h&gt;</i>, a <b>Region</b> is an ar-
            bitrary set of pixel locations which Xlib can manipulate.   Inter-
            nally, a <b>Region</b> is represented by the union of an arbitrary number
            of rectangles.  Xlib maintains a rectangle which tells it the  ex-
            tent of this union.

       <b>Visual</b>
            Declared  in  <i>&lt;X11/Xutil.h&gt;</i>,  this  structure contains information
            about the possible color mapping.


</pre>
<h3><a name="h3-From-XRender___" id="h3-From-XRender___">From XRender...</a></h3>
<pre>
       The X Render Extension library datatypes are inspired by Xlib, but lack
       the corresponding documentation.  Refer to the header file for details:

              <i>&lt;<a href="https://gitlab.freedesktop.org/xorg/lib/libxrender/-/blob/master/include/X11/extensions/Xrender.h">X11/extensions/Xrender.h</a>&gt;</i>

       or read the source code (which provides an <a href="https://gitlab.freedesktop.org/xorg/lib/libxrender/-/blob/master/doc/libXrender.txt">outline of libXrender</a>).

       <b>Xft</b> uses these names: Picture, XGlyphInfo, XRenderColor.


</pre>
<h3><a name="h3-From-Fontconfig___" id="h3-From-Fontconfig___">From Fontconfig...</a></h3>
<pre>
       Fontconfig  datatypes  follow  a naming convention, prefixing all names
       with "Fc" which are documented in <i><a href="https://www.freedesktop.org/software/fontconfig/fontconfig-devel/">Fontconfig Developers Reference</a></i>.

       <b>Xft</b> uses these Fontconfig names: FcBool, FcChar8,  FcChar16,  FcChar32,
       FcCharSet, FcEndian, FcFontSet, FcPattern, and FcResult.


</pre>
<h3><a name="h3-From-FreeType-2___" id="h3-From-FreeType-2___">From FreeType 2...</a></h3>
<pre>
       FreeType  2  datatypes  follow a naming convention, prefixing all names
       with "FT_" which are documented in <i><a href="https://freetype.org/freetype2/docs/reference/index.html">FreeType API Reference</a></i>.

       <b>Xft</b> uses these names: FT_Face, FT_Library, and FT_UInt.

       FreeType 2 uses <b>FT_UInt</b> (an unsigned integer) to represent <i>glyphs</i>.


</pre>
<h3><a name="h3-XftFont" id="h3-XftFont">XftFont</a></h3>
<pre>
         typedef struct _XftFont {
                   int                  ascent;
                   int                  descent;
                   int                  height;
                   int                  max_advance_width;
                   FcCharSet           *charset;
                   FcPattern           *pattern;
         } XftFont;

       An <b>XftFont</b> is the primary data structure of interest to programmers us-
       ing  <b>Xft</b>; it contains general font metrics and pointers to the Fontcon-
       fig character set and pattern associated with the font.

       <b>XftFont</b>s are populated with any  of  <b>XftFontOpen</b>(),  <b>XftFontOpenName</b>(),
       <b>XftFontOpenXlfd</b>(),  <b>XftFontOpenInfo</b>(),  or  <b>XftFontOpenPattern</b>().  <b>Xft-</b>
       <b>FontCopy</b>() is used to duplicate <b>XftFont</b>s, and <b>XftFontClose</b>() is used to
       mark  an  <b>XftFont</b> as unused.  <b>XftFont</b>s are internally allocated, refer-
       ence-counted, and freed by <b>Xft</b>; the programmer does not ordinarily need
       to allocate or free storage for them.

       <b>XftDrawGlyphs</b>(),  the  <b>XftDrawString</b>*()  family, <b>XftDrawCharSpec</b>(), and
       <b>XftDrawGlyphSpec</b>() use <b>XftFont</b>s to render text to  an  <b>XftDraw</b>  object,
       which  may correspond to either a core X drawable or an X Rendering Ex-
       tension drawable.

       <b>XftGlyphExtents</b>() and the <b>XftTextExtents</b>*() family are used  to  deter-
       mine the extents (maximum dimensions) of an <b>XftFont</b>.

       An  <b>XftFont</b>'s  glyph  or character coverage can be determined with <b>Xft-</b>
       <b>FontCheckGlyph</b>() or <b>XftCharExists</b>().  <b>XftCharIndex</b>() returns  the  <b>Xft-</b>
       <b>Font</b>-specific  character  index  corresponding to a given Unicode code-
       point.

       <b>XftGlyphRender</b>(), <b>XftGlyphSpecRender</b>(),  <b>XftCharSpecRender</b>(),  and  the
       <b>XftTextRender</b>*() family use <b>XftFont</b>s to draw into X Rendering Extension
       <b>Picture</b> structures.

       <b>Note:</b> <b>XftDrawGlyphs</b>(), the <b>XftDrawString</b>*() family,  <b>XftDrawCharSpec</b>(),
       and <b>XftDrawGlyphSpec</b>() provide a means of rendering fonts that is inde-
       pendent of the availability of the  X  Rendering  Extension  on  the  X
       server.


</pre>
<h3><a name="h3-XftFontInfo" id="h3-XftFontInfo">XftFontInfo</a></h3>
<pre>
       is  an opaque object that stores information about a font.  <b>XftFontInfo</b>
       structures are created with <b>XftFontInfoCreate</b>(), freed with  <b>XftFontIn-</b>
       <b>foDestroy</b>(), and compared with <b>XftFontInfoEqual</b>().  <b>XftFontInfo</b> objects
       are internally allocated and freed by <b>Xft</b>; the programmer does not  or-
       dinarily need to allocate or free storage for them.

       Each  <b>XftFontInfo</b>  structure in use is associated with a unique identi-
       fier, which can be retrieved with <b>XftFontInfoHash</b>().  An <b>XftFont</b> can be
       opened based on <b>XftFontInfo</b> data with <b>XftFontOpenInfo</b>().


</pre>
<h3><a name="h3-XftColor" id="h3-XftColor">XftColor</a></h3>
<pre>
         typedef struct _XftColor {
                   unsigned long        pixel;
                   XRenderColor         color;
         } XftColor;

       An  <b>XftColor</b>  object  permits  text and other items to be rendered in a
       particular color (or the closest approximation offered by the X  visual
       in use).

       <b>XftColorAllocName</b>() and <b>XftColorAllocValue</b>() request a color allocation
       from the X server (if necessary) and initialize  the  members  of  <b>Xft-</b>
       <b>Color</b>.   <b>XftColorFree</b>()  instructs  the X server to free the color cur-
       rently allocated for an <b>XftColor</b>.

       Once an <b>XftColor</b> has been initialized,  <b>XftDrawSrcPicture</b>(),  <b>XftDrawG-</b>
       <b>lyphs</b>(),  the  <b>XftDrawString</b>*() family, <b>XftDrawCharSpec</b>(), <b>XftDrawChar-</b>
       <b>FontSpec</b>(),  <b>XftDrawGlyphSpec</b>(),   <b>XftDrawGlyphFontSpec</b>(),   and   <b>Xft-</b>
       <b>DrawRect</b>() may be used to draw various objects using it.


</pre>
<h3><a name="h3-XftDraw" id="h3-XftDraw">XftDraw</a></h3>
<pre>
       is  an  opaque  object  which  holds information used to render to an X
       drawable using either the core protocol or the X Rendering extension.

       <b>XftDraw</b> objects are created with any of  <b>XftDrawCreate</b>()  (which  asso-
       ciates  an <b>XftDraw</b> with an existing X drawable), <b>XftDrawCreateBitmap</b>(),
       or <b>XftDrawCreateAlpha</b>(), and destroyed with  <b>XftDrawDestroy</b>().   The  X
       drawable   associated   with  an  <b>XftDraw</b>  can  be  changed  with  <b>Xft-</b>
       <b>DrawChange</b>().  <b>XftDraw</b> objects are internally allocated  and  freed  by
       <b>Xft</b>;  the programmer does not ordinarily need to allocate or free stor-
       age for them.

       The X <b>Display</b>, <b>Drawable</b>, <b>Colormap</b>, and <b>Visual</b> properties of an  <b>XftDraw</b>
       can  be  queried  with <b>XftDrawDisplay</b>(), <b>XftDrawDrawable</b>(), <b>XftDrawCol-</b>
       <b>ormap</b>(), and <b>XftDrawVisual</b>(), respectively.

       Several functions  use  <b>XftDraw</b>  objects:  <b>XftDrawCharFontSpec</b>(),  <b>Xft-</b>
       <b>DrawCharSpec</b>(),  <b>XftDrawGlyphFontSpec</b>(),  <b>XftDrawGlyphSpec</b>(), <b>XftDrawG-</b>
       <b>lyphs</b>(), <b>XftDrawRect</b>(),  <b>XftDrawSetClip</b>(),  <b>XftDrawSetClipRectangles</b>(),
       <b>XftDrawSetSubwindowMode</b>(), and the <b>XftDrawString</b>*() family.

       The  X  Rendering  Extension  <b>Picture</b> associated with an <b>XftDraw</b> is re-
       turned by <b>XftDrawPicture</b>(), and <b>XftDrawSrcPicture</b>().   It  is  used  by
       <b>XftCharFontSpecRender</b>(), <b>XftCharSpecRender</b>(), <b>XftGlyphFontSpecRender</b>(),
       <b>XftGlyphRender</b>(), <b>XftGlyphSpecRender</b>(), and the  <b>XftTextRender</b>*()  fam-
       ily.


</pre>
<h3><a name="h3-XftCharSpec" id="h3-XftCharSpec">XftCharSpec</a></h3>
<pre>
         typedef struct _XftCharSpec {
                   FcChar32             ucs4;
                   short                x;
                   short                y;
         } XftCharSpec;

       <b>XftCharSpec</b> is used by <b>XftDrawCharSpec</b>(), and <b>XftCharSpecRender</b>().


</pre>
<h3><a name="h3-XftCharFontSpec" id="h3-XftCharFontSpec">XftCharFontSpec</a></h3>
<pre>
         typedef struct _XftCharFontSpec {
                   XftFont             *font;
                   FcChar32             ucs4;
                   short                x;
                   short                y;
         } XftCharFontSpec;

       <b>XftCharFontSpec</b> is used by <b>XftCharFontSpecRender</b>().


</pre>
<h3><a name="h3-XftGlyphSpec" id="h3-XftGlyphSpec">XftGlyphSpec</a></h3>
<pre>
         typedef struct _XftGlyphSpec {
                   FT_UInt               glyph;
                   short                 x;
                   short                 y;
         } XftGlyphSpec;

       <b>XftGlyphSpec</b> is used by <b>XftDrawGlyphSpec</b>().


</pre>
<h3><a name="h3-XftGlyphFontSpec" id="h3-XftGlyphFontSpec">XftGlyphFontSpec</a></h3>
<pre>
         typedef struct _XftGlyphFontSpec {
                   XftFont             *font;
                   FT_UInt              glyph;
                   short                x;
                   short                y;
         } XftGlyphFontSpec;

       <b>XftGlyphFontSpec</b>  is  used  by  <b>XftDrawGlyphFontSpec</b>(),  and  <b>XftGlyph-</b>
       <b>FontSpecRender</b>().


</pre>
<h2><a name="h2-FUNCTIONS" id="h2-FUNCTIONS">FUNCTIONS</a></h2>
<pre>

</pre>
<h3><a name="h3-Initialization" id="h3-Initialization">Initialization</a></h3>
<pre>
       A typical application using <b>Xft</b> does not explicitly initialize the  li-
       brary.  That is usually done as a side-effect of opening a font.

       When  <b>Xft</b>  initializes,  it collects information about the display, and
       stores some of that information in a Fontconfig pattern (essentially  a
       collection  of  properties with typed values).  The calling application
       can modify that pattern to change the library's behavior.

       Not all of the collected information is stored in a pattern.   The  re-
       mainder  is stored in internal data structures.  <b>Xft</b> makes some of that
       available to the application via functions.

       <b>Bool</b> <b>XftDefaultHasRender</b> (
                      <b>Display</b>               *<i>dpy</i>);

              Obtain information about the display <i>dpy</i> if  not  done  already,
              and  return  true  if  <b>Xft</b> found that the display supports the X
              Render extension, and if it is able to find a suitable  <b>XRender-</b>
              <b>PictFormat</b>  (X  Render's  datatype  which is analogous to Xlib's
              Visual) on the display.

       <b>Bool</b> <b>XftDefaultSet</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>FcPattern</b>             *<i>defaults</i>);

              Obtain information about the display <i>dpy</i> if  not  done  already,
              and  set the Fontconfig pattern holding default properties which
              <b>Xft</b> will use for this display.

              <b>Xft</b> uses those properties initially to obtain these limits:

                 XFT_MAX_GLYPH_MEMORY
                      (maxglyphmemory).  This is the maximum amount  of  glyph
                      memory for all fonts used by <b>Xft</b> (default: 4*1024*1024).

                 XFT_MAX_UNREF_FONTS
                      (maxunreffonts).  This is the maximum number of unrefer-
                      enced fonts (default: 16).

              <b>Xft</b> also uses  these  default  properties  in  <b>XftDefaultSubsti-</b>
              <b>tute</b>().

       <b>void</b> <b>XftDefaultSubstitute</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>screen</i>,
                      <b>FcPattern</b>             *<i>pattern</i>);

              <b>Xft</b>  fills  in missing properties in the given <i>pattern</i> using de-
              fault properties for the specified display <i>dpy</i>, e.g., as set  in
              <b>XftDefaultSet</b>().

              Typical  <b>Xft</b>  applications  use this function to help Fontconfig
              choose a suitable font.  These properties are substituted before
              calling <b>FcDefaultSubstitute</b>():

                 FC_ANTIALIAS
                      True  if  FreeType  should  use  antialiasing  (default:
                      False).  (default: True).

                 FC_AUTOHINT
                      True  if  FreeType  should  use  autohinting   (default:
                      False).

                 FC_DPI
                      Dots/inch  used  for  resolution (default: computed from
                      the display height).

                 FC_EMBOLDEN
                      True if <b>FT_GlyphSlot_Embolden</b>() should be  used  to  em-
                      bolden a font (default: False).

                 FC_HINTING
                      True  if  hinting should be used when filling in proper-
                      ties to open a font (default: True).

                 FC_HINT_STYLE
                      Hinting style used when filling in properties to open  a
                      font (default: FC_HINT_FULL).

                 FC_LCD_FILTER
                      Parameter passed to <b>FT_Library_SetLcdFilter</b>() when load-
                      ing glyphs (default: FC_LCD_DEFAULT).

                 FC_MINSPACE
                      Minimum space value used when filling in  properties  to
                      open a font (default: False).

                 FC_RGBA
                      RGBA  value  used  when  filling in properties to open a
                      font (default: computed by  calling  <b>XRenderQuerySubpix-</b>
                      <b>elOrder</b>()).

                 FC_SCALE
                      Scale used in Fontconfig (default: 1.0).

                 XFT_MAX_GLYPH_MEMORY
                      Maximum memory for one font (default: 1024*1024).

                 XFT_RENDER
                      True  if  the  display  supports X Render extension (de-
                      fault: result from <b>XftDefaultHasRender</b>()).

       <b>FcBool</b> <b>XftInit</b> (
                      <b>_Xconst</b> <b>char</b>          *<i>config</i>);

              Initializes the Fontconfig library (calling <b>FcInit</b>()).

              The <i>config</i> parameter is unused.

              <b>Xft</b> does not deinitialize the  Fontconfig  library  when  it  is
              done.

       <b>FcBool</b> <b>XftInitFtLibrary</b> (<b>void</b>);

              Initializes  the FreeType library (calling <b>FT_Init_FreeType</b>() to
              create a library object) if it has not already been initialized.
              This  is  needed  before using the FreeType library to read font
              data from a file.

              <b>Xft</b> calls <b>XftInitFtLibrary</b>() internally via  <b>XftFontInfoCreate</b>()
              and <b>XftFontOpenPattern</b>().

              <b>Xft</b>   does   not   discard   the  library  object  (e.g.,  using
              <b>FT_Done_FreeType</b>()) when it is done.

       <b>int</b> <b>XftGetVersion</b> (<b>void</b>);

              Return <b>XftVersion</b>, enabling an application to determine the  ac-
              tual version of <b>Xft</b> which is in use.


</pre>
<h3><a name="h3-Opening-and-Matching-Fonts" id="h3-Opening-and-Matching-Fonts">Opening and Matching Fonts</a></h3>
<pre>
       <b>XftFont</b> *<b>XftFontOpen</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>screen</i>,
                      ...);

              <b>XftFontOpen</b>  takes a list of pattern element triples of the form
              <i>field</i>, <i>type</i>, <i>value</i> (terminated with a NULL), matches  that  pat-
              tern  against  the available fonts, and opens the matching font,
              sizing it correctly for screen number  <i>screen</i>  on  display  <i>dpy</i>.
              Return the matched font, or NULL if no match is found.

       Example:
             font = XftFontOpen (dpy, screen,
                                 XFT_FAMILY, XftTypeString, "charter",
                                 XFT_SIZE, XftTypeDouble, 12.0,
                                 NULL);

              This  opens  the "charter" font at 12 points.  The point size is
              automatically converted to the correct pixel size based  on  the
              resolution of the monitor.

       <b>XftFont</b> *<b>XftFontOpenName</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>screen</i>,
                      <b>_Xconst</b> <b>char</b>          *<i>name</i>);

              <b>XftFontOpenName</b>  behaves  as  <b>XftFontOpen</b>  does,  except that it
              takes a Fontconfig pattern string (which is passed to the  Font-
              config library's <b>FcNameParse</b>() function).

       <b>XftFont</b> *<b>XftFontOpenXlfd</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>screen</i>,
                      <b>_Xconst</b> <b>char</b>          *<i>xlfd</i>)

              <b>XftFontOpenXlfd</b>  behaves  as  <b>XftFontOpen</b>  does,  except that it
              takes a string containing an X Logical Font Description  (<a href="https://www.x.org/docs/XLFD/xlfd.pdf">XLFD</a>),
              and uses the <b>XftXlfdParse</b>() function.

       <b>FcPattern</b> *<b>XftFontMatch</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>screen</i>,
                      <b>_Xconst</b> <b>FcPattern</b>     *<i>pattern</i>,
                      <b>FcResult</b>              *<i>result</i>);

              Also used internally by the <b>XftFontOpen</b>* functions, <b>XftFontMatch</b>
              can also be used directly to determine the Fontconfig font  pat-
              tern resulting from an <b>Xft</b> font open request.

       <b>FcPattern</b> *<b>XftXlfdParse</b> (
                      <b>_Xconst</b> <b>char</b>          *<i>xlfd</i><b>_</b><i>orig</i>,
                      <b>Bool</b>                  <i>ignore</i><b>_</b><i>scalable</i>,
                      <b>Bool</b>                  <i>complete</i>);

              <b>XftXlfdParse</b>  parses  the <i>xlfd</i><b>_</b><i>orig</i> parameter according to the <i>X</i>
              <i>Logical Font Description Conventions</i> document, but ignores  some
              of the fields: <i>setwidth</i><b>_</b><i>name</i>, <i>add</i><b>_</b><i>style</i><b>_</b><i>name</i>, <i>spacing</i>, and <i>aver-</i>
              <i>age</i><b>_</b><i>width</i>.

              <b>XftXlfdParse</b> creates a Fontconfig pattern, setting the  property
              <b>XFT_XLFD</b> to the <i>xlfd</i><b>_</b><i>orig</i> value, and maps the collected informa-
              tion to Fontconfig properties.  Empty or "*" fields are ignored:

                 FC_FOUNDRY
                      from <i>foundry</i>.

                 FC_FAMILY
                      from <i>family</i>.

                 FC_WEIGHT
                      <i>weight</i><b>_</b><i>name</i>, defaulting to FC_WEIGHT_MEDIUM.

                 FC_SLANT
                      from <i>slant</i>, defaulting to FC_SLANT_ROMAN.

                 FC_SIZE
                      from <i>point</i><b>_</b><i>size</i>.

                 FC_PIXEL_SIZE
                      from <i>pixel</i><b>_</b><i>size</i>.  If <i>point</i><b>_</b><i>size</i> was set, as well as <i>res-</i>
                      <i>olution</i><b>_</b><i>x</i>and <i>resolution</i><b>_</b><i>y</i>, then the value is scaled con-
                      vert the font's height to points.


</pre>
<h3><a name="h3-Families-of-Functions" id="h3-Families-of-Functions">Families of Functions</a></h3>
<pre>
       <b>Xft</b> provides groups of drawing functions which differ according to  the
       way  the  data is encoded, e.g., 8-bit (ISO-8859-1) versus UTF-8.  Here
       is a summary of these related functions:

       <b>Encoding</b>   <b>XftDrawString*</b>       <b>XftTextExtents*</b>       <b>XftTextRender*</b>
       -------------------------------------------------------------------------
       8          XftDrawString8       XftTextExtents8       XftTextRender8
       16         XftDrawString16      XftTextExtents16      XftTextRender16
       16BE       XftDrawString16      XftTextExtents16      XftTextRender16BE
       16LE       XftDrawString16      XftTextExtents16      XftTextRender16LE
       32         XftDrawString32      XftTextExtents32      XftTextRender32
       32BE       XftDrawString32      XftTextExtents32      XftTextRender32BE
       32LE       XftDrawString32      XftTextExtents32      XftTextRender32LE
       UTF-8      XftDrawStringUtf8    XftTextExtentsUtf8    XftTextRenderUtf8
       UTF-16     XftDrawStringUtf16   XftTextExtentsUtf16   XftTextRenderUtf16


</pre>
<h3><a name="h3-Determining-Text-Extents" id="h3-Determining-Text-Extents">Determining Text Extents</a></h3>
<pre>
       <b>Xft</b> provides several functions for determining the required height  and
       width  for  displaying a text-string.  After accounting for the <i>offset</i>,
       in cases where the string will be shifted  up,  down,  left  or  right,
       these numbers are referred to as <i>text extents</i>.

       <b>void</b> <b>XftTextExtents8</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>_Xconst</b> <b>FcChar8</b>       *<i>string</i>,
                      <b>int</b>                    <i>len</i>,
                      <b>XGlyphInfo</b>            *<i>extents</i>);

              <b>XftTextExtents8</b>  computes the pixel extents on display <i>dpy</i> of no
              more than <i>len</i> glyphs of a <i>string</i> consisting of eight-bit charac-
              ters when drawn with <i>font</i>, storing them in <i>extents</i>.

       <b>void</b> <b>XftTextExtents16</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>_Xconst</b> <b>FcChar16</b>      *<i>string</i>,
                      <b>int</b>                    <i>len</i>,
                      <b>XGlyphInfo</b>            *<i>extents</i>);

              <b>XftTextExtents16</b> computes the pixel extents on display <i>dpy</i> of no
              more than <i>len</i> glyphs of a <i>string</i> consisting of sixteen-bit char-
              acters when drawn with <i>font</i>, storing them in <i>extents</i>.

       <b>void</b> <b>XftTextExtents32</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>_Xconst</b> <b>FcChar32</b>      *<i>string</i>,
                      <b>int</b>                    <i>len</i>,
                      <b>XGlyphInfo</b>            *<i>extents</i>);

              <b>XftTextExtents32</b> computes the pixel extents on display <i>dpy</i> of no
              more than <i>len</i> glyphs of a <i>string</i>  consisting  of  thirty-two-bit
              characters when drawn with <i>font</i>, storing them in <i>extents</i>.

       <b>void</b> <b>XftTextExtentsUtf8</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>_Xconst</b> <b>FcChar8</b>       *<i>string</i>,
                      <b>int</b>                    <i>len</i>,
                      <b>XGlyphInfo</b>            *<i>extents</i>);

              <b>XftTextExtentsUtf8</b>  computes the pixel extents on display <i>dpy</i> of
              no more than <i>len</i> bytes of a UTF-8 encoded <i>string</i> when drawn with
              <i>font</i>, storing them in <i>extents</i>.

       <b>void</b> <b>XftTextExtentsUtf16</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>_Xconst</b> <b>FcChar8</b>       *<i>string</i>,
                      <b>FcEndian</b>               <i>endian</i>,
                      <b>int</b>                    <i>len</i>,
                      <b>XGlyphInfo</b>            *<i>extents</i>);

              <b>XftTextExtentsUtf16</b> computes the pixel extents on display <i>dpy</i> of
              no more than <i>len</i> bytes of a UTF-16LE- or UTF-16BE-encoded <i>string</i>
              when  drawn  with <i>font</i>, storing them in <i>extents</i>.  The endianness
              of <i>string</i> must be specified in <i>endian</i>.

       <b>void</b> <b>XftGlyphExtents</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>_Xconst</b> <b>FT_UInt</b>       *<i>glyphs</i>,
                      <b>int</b>                    <i>nglyphs</i>,
                      <b>XGlyphInfo</b>            *<i>extents</i>);

              Also used internally by the <b>XftTextExtents</b>*()  functions,  <b>XftG-</b>
              <b>lyphExtents</b> computes the pixel extents on display <i>dpy</i> of no more
              than <i>nglyphs</i> in the array <i>glyphs</i> drawn with <i>font</i>,  storing  them
              in <i>extents</i>.

              If  any  of  the  <i>glyphs</i> are missing (determined by a check with
              <b>XftFontCheckGlyph</b>()), the  corresponding  entry  in  <i>extents</i>  is
              filled with zeroes.


</pre>
<h3><a name="h3-Managing-XftColor" id="h3-Managing-XftColor">Managing XftColor</a></h3>
<pre>
       <b>Bool</b> <b>XftColorAllocName</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>_Xconst</b> <b>Visual</b>        *<i>visual</i>,
                      <b>Colormap</b>               <i>cmap</i>,
                      <b>_Xconst</b> <b>char</b>          *<i>name</i>,
                      <b>XftColor</b>              *<i>result</i>);

              Use  <b>XAllocNamedColor</b>()  to look up the named color <i>name</i> for the
              screen associated with the colormap <i>cmap</i>.

              <b>o</b>   If <b>XAllocNamedColor</b>() returns  nonzero,  <b>XftColorAllocName</b>()
                  fills in the resulting <b>XftColor</b> pixel field with the closest
                  color supported by the screen, as well  as  the  exact  red,
                  green and blue fields from the database, and returns True.

              <b>o</b>   If  <b>XAllocNamedColor</b>() returns zero, <b>XftColorAllocName</b>() re-
                  turns False, and does not update the <b>XftColor</b> referenced  by
                  <i>result</i>.

              The <i>visual</i> parameter is unused.

       <b>Bool</b> <b>XftColorAllocValue</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>Visual</b>                *<i>visual</i>,
                      <b>Colormap</b>               <i>cmap</i>,
                      <b>_Xconst</b> <b>XRenderColor</b>  *<i>color</i>,
                      <b>XftColor</b>              *<i>result</i>);

              Allocate a color value:

              <b>o</b>   If  the <i>visual</i> class is TrueColor, <b>XftColorAllocValue</b>() sets
                  the <i>pixel</i> field in the <b>XftColor</b> referenced by  <i>result</i>  using
                  the red, green and blue fields from the <i>color</i> parameter.

              <b>o</b>   If  the  <i>visual</i> class is not TrueColor, <b>XftColorAllocValue</b>()
                  calls <b>XAllocColor</b>() to allocate an  entry  in  the  colormap
                  <i>cmap</i>.  which returns the pixel value of the color closest to
                  the specified RGB elements supported by the hardware.

                  If <b>XAllocColor</b>() succeeds <b>XftColorAllocValue</b>()  stores  that
                  pixel value in the <b>XRenderColor</b> referenced by <i>result</i> and re-
                  turns True.

                  If <b>XAllocColor</b>() fails,  <b>XftColorAllocValue</b>() returns  False
                  and does not modify the result.

       <b>void</b> <b>XftColorFree</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>Visual</b>                *<i>visual</i>,
                      <b>Colormap</b>               <i>cmap</i>,
                      <b>XftColor</b>              *<i>color</i>);

              If the <i>visual</i> class is not TrueColor, <b>Xft</b> calls <b>XFreeColors</b>() to
              free the entry from the colormap <i>cmap</i> whose pixel value  in  the
              <i>color</i> parameter was allocated by <b>XftColorAllocName</b>().


</pre>
<h3><a name="h3-Managing-XftDraw" id="h3-Managing-XftDraw">Managing XftDraw</a></h3>
<pre>
       <b>XftDraw</b> *<b>XftDrawCreate</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>Drawable</b>               <i>drawable</i>,
                      <b>Visual</b>                *<i>visual</i>,
                      <b>Colormap</b>               <i>colormap</i>);

              <b>XftDrawCreate</b>  creates  a  structure  that can be used to render
              text and rectangles using the specified  <i>drawable</i>,  <i>visual</i>,  and
              <i>colormap</i> on <i>display</i>.

       <b>XftDraw</b> *<b>XftDrawCreateBitmap</b> (
                      <b>Display</b>               *<i>dpy</i><b>,</b>
                      <b>Pixmap</b>                 <i>bitmap</i><b>);</b>

              <b>XftDrawCreateBitmap</b>  behaves  as <b>XftDrawCreate</b>(), except that it
              uses an X pixmap of color depth 1 instead of an X drawable.

       <b>XftDraw</b> <b>*</b> <b>XftDrawCreateAlpha</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>Pixmap</b>                 <i>pixmap</i>,
                      <b>int</b>                    <i>depth</i>);

              <b>XftDrawCreateAlpha</b> behaves as <b>XftDrawCreate</b>(),  except  that  it
              uses an X pixmap of color depth <i>depth</i> instead of an X drawable.

       <b>void</b> <b>XftDrawChange</b> (
                      <b>XftDraw</b>               *<i>draw</i>,
                      <b>Drawable</b>               <i>drawable</i>);

              <b>XftDrawChange</b> changes the X drawable association of the existing
              <b>Xft</b> draw object <i>draw</i> from its current value to <i>drawable</i>.

       <b>Display</b> *<b>XftDrawDisplay</b> (
                      <b>XftDraw</b>               *<i>draw</i>);

              <b>XftDrawDisplay</b> returns a pointer to the display associated  with
              the <b>Xft</b> draw object <i>draw</i>.

       <b>Drawable</b> <b>XftDrawDrawable</b> (
                      <b>XftDraw</b>               *<i>draw</i>);

              <b>XftDrawDrawable</b>  returns  the X drawable associated with the <b>Xft</b>
              draw object <i>draw</i>.

       <b>Colormap</b> <b>XftDrawColormap</b> (
                      <b>XftDraw</b>               *<i>draw</i>);

              <b>XftDrawColormap</b>() returns the colormap associated with  the  <b>Xft</b>
              draw object <i>draw</i>.

       <b>Visual</b> *<b>XftDrawVisual</b> (
                      <b>XftDraw</b>               *<i>draw</i>);

              <b>XftDrawVisual</b>  returns  a  pointer to the visual associated with
              the <b>Xft</b> draw object <i>draw</i>.

       <b>Picture</b> <b>XftDrawPicture</b> (
                      <b>XftDraw</b>               *<i>draw</i>);

              <b>XftDrawPicture</b> returns the picture associated with the <b>Xft</b>  draw
              object <i>draw</i>.

              If  the the X server does not support the X Rendering Extension,
              0 is returned.

       <b>Picture</b> <b>XftDrawSrcPicture</b> (
                      <b>XftDraw</b>               *<i>draw</i>,
                      <b>_Xconst</b> <b>XftColor</b>      *<i>color</i>);

              Return an X Render Picture object, which is used  for  rendering
              glyphs,  e.g.,  with  <b>XftGlyphRender</b>(), <b>XftGlyphSpecRender</b>(), or
              <b>XftGlyphFontSpecRender</b>(),  by   <b>XftDrawGlyphs</b>(),   <b>XftDrawGlyph-</b>
              <b>Spec</b>(), <b>XftDrawGlyphFontSpec</b>(), respectively.

              If  the  X server does not support the X Render extension, those
              functions use <b>XftGlyphCore</b>(), <b>XftGlyphSpecCore</b>(),  or  <b>XftGlyph-</b>
              <b>FontSpecCore</b>().

       <b>void</b> <b>XftDrawDestroy</b> (
                      <b>XftDraw</b>               *<i>draw</i>);

              <b>XftDrawDestroy</b>  destroys <i>draw</i> (created by one of the <b>XftDrawCre-</b>
              <b>ate</b>*() functions) and frees the memory that  was  allocated  for
              it.

       <b>Bool</b> <b>XftDrawSetClip</b> (
                      <b>XftDraw</b>               *<i>draw</i>,
                      <b>Region</b>                 <i>r</i>);

              Set  up  clipping  for the given <b>XftDraw</b> parameter <i>draw</i> starting
              with a <b>Region</b>:

              <b>o</b>   If the <b>Region</b> parameter <i>r</i> is not null, <b>Xft</b> creates a new <b>Re-</b>
                  <b>gion</b> (to copy the parameter),

              <b>o</b>   <b>Xft</b> destroys any existing clipping region.

              <b>o</b>   <b>Xft</b>  sets  the  clip_type for the <i>draw</i> parameter to <b>XftClip-</b>
                  <b>TypeRegion</b> if the <i>r</i> parameter was not  null.   Otherwise  it
                  sets the clip_type to <b>XftClipTypeNone</b>.

              <b>o</b>   Finally,  <b>Xft</b> updates clipping for existing objects, updates
                  the clip_mask for its X Render <b>Picture</b> object and  sets  the
                  clipping-mask  in  the  graphic context (GC) associated with
                  the <b>XftDraw</b> parameter.

              <b>XftDrawSetClip</b>() returns <b>True</b> if no change was necessary, or  if
              the  operation  succeeded.  It returns <b>False</b> if it was unable to
              create the new <b>Region</b>().

       <b>Bool</b> <b>XftDrawSetClipRectangles</b> (
                      <b>XftDraw</b>               *<i>draw</i>,
                      <b>int</b>                    <i>xOrigin</i>,
                      <b>int</b>                    <i>yOrigin</i>,
                      <b>_Xconst</b> <b>XRectangle</b>    *<i>rects</i>,
                      <b>int</b>                    <i>n</i>);

              Like <b>XftDrawSetClip</b>(), <b>XftDrawSetClipRectangles()</b> sets up  clip-
              ping  for  the  given <b>XftDraw</b> parameter <i>draw</i> but uses a set of <i>n</i>
              rectangles (the <i>rects</i> parameter) which could  be  used  to  con-
              struct a <b>Region</b> <b>.</b>

              <b>Xft</b>  sets  the  clip_type  for <i>draw</i> to XftClipTypeRectangles and
              uses <b>XSetClipRectangles</b>() for core (X11) clipping  and  <b>XRender-</b>
              <b>SetPictureClipRectangles</b>() for X Render clipping.

       <b>void</b> <b>XftDrawSetSubwindowMode</b> (
                      <b>XftDraw</b>               *<i>draw</i>,
                      <b>int</b>                    <i>mode</i>);

              Sets  the  subwindow-mode  for the given <b>XftDraw</b> parameter <i>draw</i>.
              The mode can be either <b>ClipByChildren</b> (the default), or <b>Include-</b>
              <b>Inferiors</b>:

              <b>o</b>   For  <b>ClipByChildren</b>, both source and destination windows are
                  additionally clipped by all viewable <b>InputOutput</b> children.

              <b>o</b>   For <b>IncludeInferiors</b>, neither source nor destination  window
                  is clipped by inferiors.  This will result in including sub-
                  window contents in the source and drawing through  subwindow
                  boundaries of the destination.

              In  addition to the subwindow-mode maintained by <b>Xft</b>, it updates
              the subwindow mode for any associated graphics context <b>GC</b>  using
              <b>XSetSubwindowMode</b>()  as  well  as  for an X Render <b>Picture</b> using
              <b>XRenderChangePicture</b>().


</pre>
<h3><a name="h3-Drawing-Strings" id="h3-Drawing-Strings">Drawing Strings</a></h3>
<pre>
       <b>void</b> <b>XftDrawString8</b> (
                      <b>XftDraw</b>               *<i>d</i>,
                      <b>_Xconst</b> <b>XftColor</b>      *<i>color</i>,
                      <b>XftFont</b>               *<i>font</i>,
                      <b>int</b>                    <i>x</i>,
                      <b>int</b>                    <i>y</i>,
                      <b>_Xconst</b> <b>FcChar8</b>       *<i>string</i>,
                      <b>int</b>                    <i>len</i>);

              <b>XftDrawString8</b> draws no more than <i>len</i> glyphs of  <i>string</i>  to  <b>Xft</b>
              drawable <i>d</i> using <i>font</i> in <i>color</i> at position <i>x</i>, <i>y</i>.


</pre>
<h3><a name="h3-Drawing-Other-Things" id="h3-Drawing-Other-Things">Drawing Other Things</a></h3>
<pre>
       <b>void</b> <b>XftDrawRect</b> (
                      <b>XftDraw</b>               *<i>d</i>,
                      <b>_Xconst</b> <b>XftColor</b>      *<i>color</i>,
                      <b>int</b>                    <i>x</i>,
                      <b>int</b>                    <i>y</i>,
                      <b>unsigned</b> <b>int</b>           <i>width</i>,
                      <b>unsigned</b> <b>int</b>           <i>height</i>);

              <b>XftDrawRect</b>  draws  a  solid  rectangle  of the specified <i>color</i>,
              <i>width</i>, and <i>height</i> at position <i>x</i>, <i>y</i> to <b>Xft</b> drawable <i>d</i>.

       <b>void</b> <b>XftCharFontSpecRender</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>op</i>,
                      <b>Picture</b>                <i>src</i>,
                      <b>Picture</b>                <i>dst</i>,
                      <b>int</b>                    <i>srcx</i>,
                      <b>int</b>                    <i>srcy</i>,
                      <b>_Xconst</b> <b>XftCharFontSpec</b>*<i>chars</i>,
                      <b>int</b>                    <i>len</i>);

              <b>XftCharFontSpecRender</b>()  converts  the  <i>chars</i>   parameter   from
              <b>XftCharFontSpec</b> to <b>XftGlyphFontSpec</b>, passing the converted array
              along  with  the  other  parameters   unchanged   to   <b>XftGlyph-</b>
              <b>FontSpecRender</b>() to render the data.

       <b>void</b> <b>XftDrawGlyphFontSpec</b> (
                      <b>XftDraw</b>               *<i>draw</i>,
                      <b>_Xconst</b> <b>XftColor</b>      *<i>color</i>,
                      <b>_Xconst</b> <b>XftGlyphFontSpec</b>*<i>glyphs</i>,
                      <b>int</b>                    <i>len</i>);

              Draw a list of glyphs associated with fonts at specified coordi-
              nates, passed as an array of <i>len</i> <b>XftGlyphFontSpec</b> structures via
              the  parameter  <i>glyphs</i>.   All  of the glyphs are drawn using the
              color specified in the <i>color</i> parameter.

              For each entry in the <i>glyphs</i> array:

              <b>o</b>   If the associated font uses the X Render extension, then <b>Xft</b>
                  uses  <b>XftGlyphFontSpecRender</b>()  to  draw  the glyph, using a
                  <b>Picture</b> obtained from calling <b>XftDrawSrcPicture</b> <b>()</b> with  the
                  <i>draw</i> and <i>color</i> parameters.

              <b>o</b>   Otherwise, <b>Xft</b> provides an analogous feature using Xlib.

       <b>void</b> <b>XftGlyphFontSpecRender</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>op</i>,
                      <b>Picture</b>                <i>src</i>,
                      <b>Picture</b>                <i>dst</i>,
                      <b>int</b>                    <i>srcx</i>,
                      <b>int</b>                    <i>srcy</i>,
                      <b>_Xconst</b> <b>XftGlyphFontSpec</b>*<i>glyphs</i>,
                      <b>int</b>                    <i>nglyphs</i>);

              This involves several steps:

              <b>o</b>   First,  <b>Xft</b>  ensures that the <i>glyphs</i> array is complete using
                  <b>XftFontCheckGlyph</b>() and loading any missing glyphs with <b>Xft-</b>
                  <b>FontLoadGlyphs</b>().

              <b>o</b>   Then  <b>Xft</b>  examines  the  glyphs to find the maximum Unicode
                  value.  That determines the encoding size, i.e., the <i>width</i>.

              <b>o</b>   Then, for each glyph, <b>Xft</b> checks if  its  Unicode  value  is
                  handled by the corresponding font.  If not, the value is set
                  to zero (0), to ignore it.  While doing this, <b>Xft</b>  also  re-
                  members  which was the first font used, and computes the po-
                  sition at which each glyph will be drawn.

              <b>o</b>   <b>Xft</b> then constructs an equivalent array  of  glyphs  in  the
                  format expected by the X Render library.

              <b>o</b>   Finally,  <b>XftGlyphFontSpecRender</b>()  uses the X Render exten-
                  sion to draw the glyphs, with the appropriate <b>XRenderCompos-</b>
                  <b>iteText</b>*()  function  according  to  the <i>width</i>, and discards
                  temporary data.

                  The <i>op</i>, <i>dst</i>, <i>src</i>, <i>srcx</i>, and <i>srcy</i> parameters are used as  de-
                  scribed in the documentation for the X Render library.


</pre>
<h3><a name="h3-Manipulating-patterns" id="h3-Manipulating-patterns">Manipulating patterns</a></h3>
<pre>
       <b>FcFontSet</b> *<b>XftListFonts</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>int</b>                    <i>screen</i>,
                      ...);

              <b>Xft</b>   uses   <b>FcPatternVapBuild</b>()  and  <b>FcObjectSetVapBuild</b>()  to
              process the variable-length parameter list, and <b>FcFontList</b>()  to
              obtain  a list of matching Fontconfig patterns, which it returns
              to the caller.  The caller can dispose of the return value using
              <b>FcPatternDestroy</b>().

       <b>FcPattern</b> *<b>XftNameParse</b> (
                      <b>_Xconst</b> <b>char</b>          *<i>name</i>);

              <b>Xft</b>  uses  Fontconfig to parse the name, passing the <i>name</i> to <b>Fc-</b>
              <b>NameParse</b>(), returning the result.

       <b>FcBool</b> <b>XftNameUnparse</b> (
                      <b>FcPattern</b>             *<i>pat</i>,
                      <b>char</b>                  *<i>dest</i>,
                      <b>int</b>                    <i>len</i>);

              Like <b>XfgNameParse</b>(), <b>Xft</b> uses Fontconfig.  In this case, it uses
              <b>FcNameUnparse</b>(),  which  converts  the  pattern  <i>pat</i> back into a
              string that can be parsed.  <b>XftNameUnparse</b>() stores  the  result
              via  the caller's pointer <i>dest</i>, but checks first if it will fit,
              using the <i>len</i> parameter.  If it fits, <b>Xft</b> copies the string  and
              returns <b>FcTrue</b>, otherwise it returns <b>FcFalse</b>.


</pre>
<h3><a name="h3-Manipulating-Font-data" id="h3-Manipulating-Font-data">Manipulating Font data</a></h3>
<pre>
       <b>void</b> <b>XftFontLoadGlyphs</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>pub</i>,
                      <b>FcBool</b>                 <i>need</i><b>_</b><i>bitmaps</i>,
                      <b>_Xconst</b> <b>FT_UInt</b>       *<i>glyphs</i>,
                      <b>int</b>                    <i>nglyph</i>);

              Using  <b>FT_Load_Glyph</b>(), load <i>nglyphs</i> for the glyph indices (Uni-
              code values) listed in the array <i>glyphs</i> from the given font <i>pub</i>.

              Loading a glyph entails more than just reading data into memory.
              <b>Xft</b>  uses the Fontconfig pattern associated with the display <i>dpy</i>
              (e.g., via <b>XftDefaultSet</b>()) to determine whether to use a bound-
              ing  box,  clip  the glyphs into those bounds, scale the glyphs,
              compute font metrics, and add it to the X Render extension using
              <b>XRenderAddGlyphs</b>().

       <b>void</b> <b>XftFontUnloadGlyphs</b> (
                      <b>Display</b>               *<i>dpy</i>,
                      <b>XftFont</b>               *<i>pub</i>,
                      <b>_Xconst</b> <b>FT_UInt</b>       *<i>glyphs</i>,
                      <b>int</b>                    <i>nglyph</i>);

              Discards  data for up to <i>nglyph</i> glyphs whose glyph indices (Uni-
              code values) are listed in the array <i>glyphs</i> for the  given  font
              <i>pub</i>.   If  the  glyphs were added to the X Render extension, <b>Xft</b>
              removes those using <b>XRenderFreeGlyphs</b>().  <b>Xft</b> keeps track of the
              amount  of memory used for glyphs, and updates the usage associ-
              ated with the display <i>dpy</i>.

       <b>FT_Face</b> <b>XftLockFace</b> (
                      <b>XftFont</b>               *<i>pub</i>);

              If no FreeType 2 "face" (in-memory  representation  of  a  given
              typeface  in  a  given style) has been created for the <i>pub</i> font,
              create one using  <b>FT_New_Face</b>().   Face-locks  are  a  reference
              count  used  by <b>Xft</b> to ensure that only one face is created, and
              that it is retained until the font is no longer used.

              Face-locking is used directly in <b>XftCharIndex</b>() and <b>XftFontLoad-</b>
              <b>Glyphs</b>(), which in turn are used in many functions of <b>Xft</b>.

              Face-locking  was introduced in version 1 (October 2002).  A few
              applications, such as Gdk/Gimp relied upon these functions.   In
              version  2.1.9 (June 2006), face-locking was retained as part of
              the public API when improved shared-library configurations  pro-
              vided for hiding private symbols.

       <b>void</b> <b>XftUnlockFace</b> (
                      <b>XftFont</b>               *<i>pub</i>);

              Decrements the reference count for the FreeType 2 "face" associ-
              ated with the font.

              <b>FT_Face</b> objects are deallocated using <b>FT_Done_Face</b>().  <b>Xft</b>  does
              this  in <b>XftFontInfoDestroy</b>() and when cleaning up on failure in
              <b>XftFontInfoCreate</b>() and <b>XftFontOpenPattern</b>().


</pre>
<h2><a name="h2-DEBUGGING" id="h2-DEBUGGING">DEBUGGING</a></h2>
<pre>
       <b>Xft</b> reads the environment variable <b>XFT_DEBUG</b> and converts  that  to  an
       integer.   Each bit in the resulting value tells <b>Xft</b> to print debugging
       information to the standard output:

       1    font-opening

       2    additional font-matching and opening (verbose)

       4    shows details about the <b>XRenderPictFormat</b> which will be used.

       8    shows the string which <b>XftDrawString8</b>() will draw.

       16   shows which font-ids are matched.

       32   shows useful information about the glyphs which will be drawn

       64   shows an ASCII-art representation of the glyphs.

       128  shows details about the memory-cache management

       256  shows details about managing glyph cached-memory

       512  shows a report on memory-usage


</pre>
<h2><a name="h2-COMPATIBILITY" id="h2-COMPATIBILITY">COMPATIBILITY</a></h2>
<pre>
       As of version 2 (May 2002), <b>Xft</b> became relatively stable.   It  is  ex-
       pected to retain source and binary compatibility in future releases.

       <b>Xft</b>  provides  a compatibility interface to its previous major version,
       Xft 1.<i>x</i>, described below.


</pre>
<h3><a name="h3-Xft-1_x-Header-File" id="h3-Xft-1_x-Header-File">Xft 1.x Header File</a></h3>
<pre>
       <b>#include</b> <b>&lt;X11/Xft/XftCompat.h&gt;</b>


</pre>
<h3><a name="h3-Xft-1_x-Data-Types" id="h3-Xft-1_x-Data-Types">Xft 1.x Data Types</a></h3>
<pre>
       <b>XftPattern</b>
              holds a set of names with  associated  value  lists;  each  name
              refers  to a property of a font.  <b>XftPattern</b>s are used as inputs
              to the matching code as well as holding information  about  spe-
              cific fonts.

       <b>XftFontSet</b>
              contains  a list of <b>XftPattern</b>s.  Internally, <b>Xft</b> uses this data
              structure to hold sets of fonts.  Externally,  <b>Xft</b>  returns  the
              results of listing fonts in this format.

       <b>XftObjectSet</b>
              holds  a  set  of names and is used to specify which fields from
              fonts are placed in the the list of returned patterns when list-
              ing fonts.


</pre>
<h2><a name="h2-AUTHOR" id="h2-AUTHOR">AUTHOR</a></h2>
<pre>
       Keith Packard


</pre>
<h2><a name="h2-SEE-ALSO" id="h2-SEE-ALSO">SEE ALSO</a></h2>
<pre>
       <i><a href="https://www.freedesktop.org/software/fontconfig/fontconfig-devel/">Fontconfig Developers Reference</a></i>
       <i><a href="https://freetype.org/freetype2/docs/reference/index.html">FreeType API Reference</a></i>
       <i><a href="https://www.x.org/releases/current/doc/libX11/libX11/libX11.html">Xlib &ndash; C Language Interface</a></i>
       <i><a href="https://www.x.org/docs/XLFD/xlfd.pdf">X Logical Font Description Conventions</a></i>



X Version 11                     libXft 2.3.5                           <b>Xft(3)</b>
</pre>
<div class="nav">
<ul>
<li><a href="xft.html" class="nav-top">(top)</a><br>
<li><a href="#h2-NAME">NAME</a></li>
<li><a href="#h2-DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#h2-HEADER-FILE">HEADER FILE</a></li>
<li><a href="#h2-CONSTANTS">CONSTANTS</a></li>
<li><a href="#h2-DATA-TYPES">DATA TYPES</a>
<ul>
<li><a href="#h3-From-Xlib___">From Xlib...</a></li>
<li><a href="#h3-From-XRender___">From XRender...</a></li>
<li><a href="#h3-From-Fontconfig___">From Fontconfig...</a></li>
<li><a href="#h3-From-FreeType-2___">From FreeType 2...</a></li>
<li><a href="#h3-XftFont">XftFont</a></li>
<li><a href="#h3-XftFontInfo">XftFontInfo</a></li>
<li><a href="#h3-XftColor">XftColor</a></li>
<li><a href="#h3-XftDraw">XftDraw</a></li>
<li><a href="#h3-XftCharSpec">XftCharSpec</a></li>
<li><a href="#h3-XftCharFontSpec">XftCharFontSpec</a></li>
<li><a href="#h3-XftGlyphSpec">XftGlyphSpec</a></li>
<li><a href="#h3-XftGlyphFontSpec">XftGlyphFontSpec</a></li>
</ul>
</li>
<li><a href="#h2-FUNCTIONS">FUNCTIONS</a>
<ul>
<li><a href="#h3-Initialization">Initialization</a></li>
<li><a href="#h3-Opening-and-Matching-Fonts">Opening and Matching Fonts</a></li>
<li><a href="#h3-Families-of-Functions">Families of Functions</a></li>
<li><a href="#h3-Determining-Text-Extents">Determining Text Extents</a></li>
<li><a href="#h3-Managing-XftColor">Managing XftColor</a></li>
<li><a href="#h3-Managing-XftDraw">Managing XftDraw</a></li>
<li><a href="#h3-Drawing-Strings">Drawing Strings</a></li>
<li><a href="#h3-Drawing-Other-Things">Drawing Other Things</a></li>
<li><a href="#h3-Manipulating-patterns">Manipulating patterns</a></li>
<li><a href="#h3-Manipulating-Font-data">Manipulating Font data</a></li>
</ul>
</li>
<li><a href="#h2-DEBUGGING">DEBUGGING</a></li>
<li><a href="#h2-COMPATIBILITY">COMPATIBILITY</a>
<ul>
<li><a href="#h3-Xft-1_x-Header-File">Xft 1.x Header File</a></li>
<li><a href="#h3-Xft-1_x-Data-Types">Xft 1.x Data Types</a></li>
</ul>
</li>
<li><a href="#h2-AUTHOR">AUTHOR</a></li>
<li><a href="#h2-SEE-ALSO">SEE ALSO</a></li>
</ul>
</div>
</body>
</html>
